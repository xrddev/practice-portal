<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="/uoi-logo-new-1024x784.webp" type="image/webp">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice Portal - University of Ioannina</title>
    <!-- Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÏƒÏÎ½Î´ÎµÏƒÎ·Ï‚ Î¼Îµ Ï„Î·Î½ Î¯Î´Î¹Î± Google Font ÏŒÏ€Ï‰Ï‚ ÏƒÏ„Î¿ user_register.html -->
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            font-family: 'Ubuntu Mono', monospace;
            background: linear-gradient(135deg, #0073e6, #00b3b3);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
        }

        h1 {
            margin-top: 40px; /* Î›Î¹Î³ÏŒÏ„ÎµÏÎ¿ ÎºÎµÎ½ÏŒ Î±Ï€ÏŒ Ï€Î¬Î½Ï‰ */
            font-size: 3.5rem; /* ÎœÎµÎ³Î¬Î»Î· ÎºÎ±Î¹ ÎµÏ…Î´Î¹Î¬ÎºÏÎ¹Ï„Î· Î³ÏÎ±Î¼Î¼Î±Ï„Î¿ÏƒÎµÎ¹ÏÎ¬ */
            text-align: center; /* ÎšÎµÎ½Ï„ÏÎ±ÏÎ¹ÏƒÎ¼Î­Î½Î¿ */
            color: #ffcc33; /* Î‘Ï€Î±Î»ÏŒ Î³Î±Î»Î¬Î¶Î¹Î¿ Ï‡ÏÏÎ¼Î± */
            font-family: 'Ubuntu Mono', monospace; /* Ubuntu Mono Î³ÏÎ±Î¼Î¼Î±Ï„Î¿ÏƒÎµÎ¹ÏÎ¬ */
            line-height: 1.2; /* Î‘Î½Î±Î»Î¿Î³Î¯Î± Î³ÏÎ±Î¼Î¼ÏÎ½ */
            text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.6);
            letter-spacing: 1.5px; /* Î’ÎµÎ»Ï„Î¯Ï‰ÏƒÎ· Î´Î¹Î±ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚ Î³ÏÎ±Î¼Î¼Î¬Ï„Ï‰Î½ */
        }

        .container {
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
            margin-top: 40px; /* Spacing between the title and the box */
        }

        input[type="text"], input[type="password"] {
            width: 90%;
            padding: 10px;
            margin: 10px 0;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
        }

        button {
            width: 100%;
            padding: 12px;
            background-color: #0059b3;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #003d80;
            transform: scale(1.05);
        }

        .announcements {
            margin-top: 25px;
            background: rgba(255, 255, 255, 0.15);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
            margin-top: 40px;
        }

        .announcement-item {
            margin-top: 10px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 5px;
        }


        footer {
            text-align: center;
            background: rgba(0, 0, 0, 0.3); /* Î§ÏÏÎ¼Î± background Î³Î¹Î± ÏƒÏ…Î½Î­Ï€ÎµÎ¹Î± */
            color: rgba(255, 255, 255, 0.9); /* Î§ÏÏÎ¼Î± font Î³Î¹Î± ÏƒÏ…Î½Î­Ï€ÎµÎ¹Î± */
            padding: 10px 0; /* Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· padding */
            font-size: 0.8rem; /* ÎŠÎ´Î¹Î¿ Î¼Î­Î³ÎµÎ¸Î¿Ï‚ Î³ÏÎ±Î¼Î¼Î±Ï„Î¿ÏƒÎµÎ¹ÏÎ¬Ï‚ */
            margin-top: auto; /* ÎšÏÎ±Ï„Î¬ Ï„Î¿ footer ÏƒÏ„Î¿ ÎºÎ¬Ï„Ï‰ Î¼Î­ÏÎ¿Ï‚ */
            width: 100%; /* ÎšÎ±Î»ÏÏ€Ï„ÎµÎ¹ Î¿Î»ÏŒÎºÎ»Î·ÏÎ¿ Ï„Î¿ Ï€Î»Î¬Ï„Î¿Ï‚ */
            border: none; /* Î•Î¾Î±ÏƒÏ†Î±Î»Î¯Î¶ÎµÎ¹ ÏŒÏ„Î¹ Î´ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Î³ÏÎ±Î¼Î¼Î® */
        }



    </style>
</head>
<body>
<!-- Page Header -->
<h1>Practice Portal of the University of Ioannina</h1>


<!-- Login Container -->
<div class="container">
    <h2>Login</h2>
    <form action="/login" method="post">
        <input type="text" name="username" placeholder="Username" required>
        <input type="password" name="password" placeholder="Password" required>
        <button type="submit">Login</button>
    </form>

    <!-- Links for Registration and Password Reset -->
    <p style="margin-top: 15px;">
        <a href="/reset-password" style="color: #ffcc33; text-decoration: none;">
            Forgot your password?
        </a>
    </p>
    <p style="margin-top: 15px;">
        Don't have an account?
        <a href="/public/register" style="color: #ffcc33; text-decoration: none;">
            Register
        </a>
    </p>
</div>

<div class="announcements">
    <h2>Announcements</h2>
    <!-- Dynamically loaded announcements -->
    <div id="announcements-container">
        <p>Loading announcements...</p>
    </div>
</div>

<footer>
    &copy; 2025. Developed with â¤ï¸ by
    <a href="https://github.com/xrddev" target="_blank"
       style="color: #ffcc33; text-decoration: none;">
        xrddev
    </a>.
</footer>

<script>
    async function fetchAnnouncements() {
        try {
            // ÎšÎ»Î®ÏƒÎ· ÏƒÏ„Î¿ backend endpoint
            const response = await fetch('/api/announcements', {
                method: 'GET',
                headers: {
                    'X-API-TOKEN': 'my-secure-api-token' // Î ÏÎ¿ÏƒÎ¸Î­Ï„Î¿Ï…Î¼Îµ Ï„Î¿ token
                }
            });

            if (!response.ok) {
                throw new Error('Error communicating with the server.'); // Î£Ï†Î¬Î»Î¼Î± Î±Î½ Î· ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ "OK"
            }

            // Î‘Î½Î¬Î³Î½Ï‰ÏƒÎ· Î±Ï€ÏŒÎºÏÎ¹ÏƒÎ·Ï‚ JSON
            const announcements = await response.json();

            // Î•Ï€Î¹Î»Î­Î³Î¿Ï…Î¼Îµ Ï„Î¿ container ÏƒÏ„Î¿ HTML
            const container = document.getElementById('announcements-container');
            container.innerHTML = ''; // ÎšÎ±Î¸Î±ÏÎ¯Î¶Î¿Ï…Î¼Îµ Ï„Î¿ container

            // Î•Î»Î­Î³Ï‡Î¿Ï…Î¼Îµ Î±Î½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î±Î½Î±ÎºÎ¿Î¹Î½ÏÏƒÎµÎ¹Ï‚
            if (announcements.length === 0) {
                container.innerHTML = '<p>There are currently no announcements.</p>';
            } else {
                announcements.forEach(announcement => {
                    const announcementItem = document.createElement('div');
                    announcementItem.className = 'announcement-item';

                    // Î§ÎµÎ¹ÏÎ¹ÏƒÎ¼ÏŒÏ‚ Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±Ï‚
                    let formattedDate = 'N/A'; // Î•Î¾Î±ÏƒÏ†Î±Î»Î¯Î¶Î¿Ï…Î¼Îµ fallback Î³Î¹Î± Ï„Î· Î¼Î¿ÏÏ†Î® Ï„Î·Ï‚ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±Ï‚
                    if (announcement.datePosted) {
                        const datePosted = new Date(announcement.datePosted); // ÎœÎµÏ„Î±Ï„ÏÎ¿Ï€Î® Î±Ï€ÏŒ string ÏƒÎµ Date
                        if (!isNaN(datePosted)) {
                            formattedDate = datePosted.toLocaleDateString(); // ÎœÎ¿ÏÏ†Î® Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±Ï‚ (Î±Î½Î¬Î»Î¿Î³Î± Î¼Îµ Ï„Î¿Ï€Î¹ÎºÎ­Ï‚ ÏÏ…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚)
                        }
                    }

                    // Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Ï€ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï… Î±Î½Î±ÎºÎ¿Î¯Î½Ï‰ÏƒÎ·Ï‚
                    announcementItem.textContent = `ğŸ”” [${formattedDate}] ${announcement.message}`;
                    container.appendChild(announcementItem); // Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÏƒÏ„Î¿ DOM
                });
            }
        } catch (error) {
            console.error('Î£Ï†Î¬Î»Î¼Î±:', error); // ÎšÎ±Ï„Î±Î³ÏÎ±Ï†Î® ÏƒÏ†Î±Î»Î¼Î¬Ï„Ï‰Î½ ÏƒÏ„Î·Î½ ÎºÎ¿Î½ÏƒÏŒÎ»Î±
            const container = document.getElementById('announcements-container');
            container.innerHTML = '<p>Error loading announcements. Please try again later.</p>';
        }
    }

    // Î•ÎºÏ„Î­Î»ÎµÏƒÎ· Ï„Î·Ï‚ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±Ï‚ ÏŒÏ„Î±Î½ Ï†Î¿ÏÏ„ÏÏƒÎµÎ¹ Î· ÏƒÎµÎ»Î¯Î´Î±
    document.addEventListener('DOMContentLoaded', fetchAnnouncements);

</script>

